"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[11],{6878:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"module-1-ros2/topics-services","title":"Lesson 1.2: Understanding Topics & Services","description":"Section 1: Theory","source":"@site/docs/01-module-1-ros2/02-topics-services.md","sourceDirName":"01-module-1-ros2","slug":"/module-1-ros2/topics-services","permalink":"/HACKATHON-I-PHYSICAL-AI-HUMANOID/docs/module-1-ros2/topics-services","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Lesson 1.1: Introduction to Nodes","permalink":"/HACKATHON-I-PHYSICAL-AI-HUMANOID/docs/module-1-ros2/nodes-intro"},"next":{"title":"Lesson 1.3: Robot Modeling with URDF","permalink":"/HACKATHON-I-PHYSICAL-AI-HUMANOID/docs/module-1-ros2/urdf-basics"}}');var i=n(4848),o=n(8453);const t={},c="Lesson 1.2: Understanding Topics & Services",l={},a=[{value:"Section 1: Theory",id:"section-1-theory",level:2},{value:"Topics (Asynchronous Communication)",id:"topics-asynchronous-communication",level:3},{value:"Services (Synchronous Communication)",id:"services-synchronous-communication",level:3},{value:"Section 2: Diagram (Mermaid JS)",id:"section-2-diagram-mermaid-js",level:2},{value:"Section 3: Code Example (Simple Publisher)",id:"section-3-code-example-simple-publisher",level:2},{value:"How to Run this Example:",id:"how-to-run-this-example",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"lesson-12-understanding-topics--services",children:"Lesson 1.2: Understanding Topics & Services"})}),"\n",(0,i.jsx)(s.h2,{id:"section-1-theory",children:"Section 1: Theory"}),"\n",(0,i.jsxs)(s.p,{children:["In ROS 2, ",(0,i.jsx)(s.strong,{children:"topics"})," and ",(0,i.jsx)(s.strong,{children:"services"})," are two fundamental communication mechanisms that allow nodes to exchange data."]}),"\n",(0,i.jsx)(s.h3,{id:"topics-asynchronous-communication",children:"Topics (Asynchronous Communication)"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Topics"})," follow a ",(0,i.jsx)(s.strong,{children:"publish/subscribe"})," model. One or more nodes (publishers) can publish messages to a topic, and one or more nodes (subscribers) can subscribe to that topic to receive the messages."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Asynchronous:"})," Publishers don't wait for subscribers to receive the message. They simply send it and move on."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"One-to-many:"})," A single publisher can send messages to multiple subscribers."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Use Cases:"})," Ideal for continuous data streams, such as sensor data, camera images, or robot state information."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"services-synchronous-communication",children:"Services (Synchronous Communication)"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Services"})," follow a ",(0,i.jsx)(s.strong,{children:"request/response"})," model. A node (the client) sends a request to a service, and another node (the server) processes the request and sends back a response."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Synchronous:"})," The client waits for the server to respond before continuing its execution."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"One-to-one:"})," A service request is handled by a single server."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Use Cases:"}),' Suitable for remote procedure calls (RPCs), such as triggering an action on a robot (e.g., "move to a specific location") or querying for a piece of information (e.g., "get the robot\'s current position").']}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"section-2-diagram-mermaid-js",children:"Section 2: Diagram (Mermaid JS)"}),"\n",(0,i.jsx)(s.p,{children:"This diagram illustrates the publish/subscribe model with a single publisher and two subscribers."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-mermaid",children:"graph TD\r\n    A[Publisher Node] -- Publishes to --\x3e B(Topic: /chatter);\r\n    B -- Message --\x3e C[Subscriber 1];\r\n    B -- Message --\x3e D[Subscriber 2];\n"})}),"\n",(0,i.jsx)(s.h2,{id:"section-3-code-example-simple-publisher",children:"Section 3: Code Example (Simple Publisher)"}),"\n",(0,i.jsxs)(s.p,{children:['Here is a Python example of a simple publisher node that publishes a "Hello World" message with a counter to a topic named ',(0,i.jsx)(s.code,{children:"/chatter"}),"."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass SimplePublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('simple_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'chatter', 10)\r\n        self.timer = self.create_timer(0.5, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = f'Hello World: {self.i}'\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = SimplePublisher()\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(s.h3,{id:"how-to-run-this-example",children:"How to Run this Example:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Save the code in a Python file (e.g., ",(0,i.jsx)(s.code,{children:"publisher.py"}),")."]}),"\n",(0,i.jsx)(s.li,{children:"Build your ROS 2 package."}),"\n",(0,i.jsxs)(s.li,{children:["Run the publisher node:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 run <your_package_name> publisher\n"})}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["In a separate terminal, you can listen to the ",(0,i.jsx)(s.code,{children:"/chatter"})," topic using the ",(0,i.jsx)(s.code,{children:"ros2 topic echo"})," command:","\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 topic echo /chatter\n"})}),"\n","You will see the messages from the publisher being printed to the console."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var r=n(6540);const i={},o=r.createContext(i);function t(e){const s=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(o.Provider,{value:s},e.children)}}}]);